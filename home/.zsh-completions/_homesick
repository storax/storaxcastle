#compdef homesick
_homesick() {
  local -a commands
  commands=(
    'cd:Open a new shell in the root of the given castle'
    'clone:Clone +uri+ as a castle for homesick'
    'commit:Commit the specified castles changes'
    'destroy:Delete all symlinks and remove the cloned repository'
    'diff:Shows the git diff of uncommitted changes in a castle'
    'exec:Execute a single shell command inside the root of a castle'
    'exec_all:Execute a single shell command inside the root of every cloned castle'
    'generate:generate a homesick-ready git repo at PATH'
    'help:Describe available commands or one specific command'
    'link:Symlinks all dotfiles from the specified castle'
    'list:List cloned castles'
    'open:Open your default editor in the root of the given castle'
    'pull:Update the specified castle'
    'push:Push the specified castle'
    'rc:Run the .homesickrc for the specified castle'
    'show_path:Prints the path of a castle'
    'status:Shows the git status of a castle'
    'track:add a file to a castle'
    'unlink:Unsymlinks all dotfiles from the specified castle'
    'version:Display the current version of homesick'
  )

  if (( CURRENT == 2 )); then
    _describe -t commands 'commands' commands
  fi

  return 0
}

_homesick
